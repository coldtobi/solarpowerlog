SolarPowerLog

ROADMAP 

Version 0.2 
HTML Writing Plugin

Later (not sorted, no implied priorities):
- Rework the Capability interface, maybe a helper class that will update
  the variables by callbacks or by direct accessing members: This is a common 
  coding for all filters, so having code reuse will might this easier and 
  better 
- witty-application or XML-REquest interface (to make some ajaxiation ;-)
- "End of Day" Filter -- for just one dataset reflecting the whole day. 
- porting for mipsel/arm (Frizbox, la fonera
- Adding some other inverters
- Sharing of a communication between inverters (sputniks "daisy chain" mode)
- additional filters, for monthly, yearly reports, comparisions of inverters, string)

-----------------
HTML WRITER PLAN:
-----------------

Note: First prio is to get it running for one inverter.

The HTML Writer plugin should just serve a file logged datas. It is for the user
without webserver running, so there needs not to be any scripting / Feedback 
beside that what is possible with templates.  

Beside the plugin, this should also include some examples, how to use the plugin
and how to make own template sets. 

- Mapping all capabilites to HTMLTemplate variables
- To get all the infos, all inverters can be bound to one interface 
  (master-slave concept)
- The modes: 
    - standalone -- only this inverter will be used 
    - combound -- specified inverters are bound using html-template-loop, this instance the master

- Some capabilities might to be tewaked, as for example, filenames, are to be modified for the http-root.
( plan 1: just remove the "http-root" path from the capabiity )
( maybe later: copy/link the file to the right posisiton

- Writing out template based html files evey xxx-secods, or "always on change"
- Create the files with date-syntax (like CSVWriter), so having a "rotate" functionallity.

HTML WRITER CONFIGURATION OPTIONS: (out of above "spec")
---------------------------------- 
- mode of operation (default: standalone)
- if not standalone: names of other Data-filter-chains to be used: NOTE: 
 on combound mode, the data-chain for the second and third are not passed on.
We cannot differenicate the data stream later on. (n-arrows-in,one-out)
- http-root (which to strip)
- to-be-stripped capabilites (optional, if not present, try to stip all)
- pathoffile where to write, including filename template
- writeevery="0" ---> how often should we write. "0" always on update 

ADDED CAPABILITES
--------------------
- yesterdays filename (for linking)


-------------------------------------------------------------------------------------------------
-- note this section is a little outdated, but reflects some mayor design criterias.
-- so left in place for the moment. 
BRAIN STORMING
--> at least two-fold software:
  a) data acquisition and storage
      aqui:
        -> aqc. using interfaces
        -> more than inverter should be supported
      storage
          -> storage in database, (sql csv, xml, whatever, file....)
	    -> format should be flexible enough to support additional inverters as well as 
	       ones that does not support all data or supply extra ones. (expect no minimal data set!) 
	       --> defining some types of data, describing the property of the data entry 
	         like, "flag", "plot"
	  -> what to do with proposes non-standard features
	  -> maybe secondary storage for more volatile datas like system state, error display....
	  -> 
	 
  b) visualization 
      -> generate graphs 
	  -> up-to-now
	  -> prognosen
      -> display current state of the system
      -> generate graphs (pictures, html, ....) with 
	  -> statistics, 
	  -> logbook (events)
	  
      
  c) reporting
      -> alerting on system problems (using mail, for example)
      -> reporting statistics to mail (mailing)
      (Mailing not considered for embedded pltforms)
  
-->  DESIGN CONSIDERATIONS
  a) aquisition and storage : daemon 
  b) visualization: can be web application (php) or stand alone program
    --> a) need web server running, bad on small devices
    --> b) conflicts with an existing web server.... 
    --> php has large overhead.
  c) should share configuration files
  
CHANGE ME
 a) (done) Change logging to a logging library -- it is currently hardwired to cerr.

 
 